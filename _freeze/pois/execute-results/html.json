{
  "hash": "5764dc1a521ec4a4cf31242ebdb79698",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"R, RStudio and r5r\"\neval: false\ncode-fold: false\nengine: knitr\n---\n\n\n\n\n# Software\n\nIn this chapter we will guide you through the installation of R, RStudio and the packages you will need for this course, for the macro network models.\n\n**R** and **RStudio**[^1] are separate downloads.\n\n[^1]: We will use RStudio, although if you already use other studio such as VScode, that's also fine.\n\n## R\n\nYou will need **R** installed on your computer.\n**R stats** (how it is also known) is a programming language and free software environment for statistical computing and graphics supported by the R Foundation for Statistical Computing.\n\nThe download links live at [The Comprehensive R Archive Network](https://cran.r-project.org/) (aka CRAN).\nThe most recent version is `4.5.1`, but you can use `>= 4.1.x` if you already have it installed.\n\n:::: {.panel-tabset .nav-pills}\n### Windows\n\n[Download R-4.5.1 for Windows](https://cran.r-project.org/bin/windows/base/R-4.5.1-win.exe) and run the executable file.\n\n::: {.callout-important icon=\"false\"}\nYou will also need to install [Rtools](https://cran.r-project.org/bin/windows/Rtools/rtools45/rtools.html), which is a collection of tools necessary to build R packages in Windows.\n:::\n\n### Mac\n\n[Download R-4.5.1 for MacOX](https://cran.r-project.org/).\nYou will have to choose between the *arm64* or the *x86-64* version.\n\nDownload the `.pkg` file and install it as usual.\n\n### Ubuntu\n\n> These are instructions for Ubuntu.\n> If you use other linux distribution, please follow the instructions on [The Comprehensive R Archive Network - CRAN](https://cran.r-project.org/bin/linux/).\n\nYou can look for R in the Ubuntu **Software Center** or install it via the terminal:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n# sudo apt update && sudo apt upgrade -y\nsudo apt install r-base\n```\n:::\n\n\n\n\n**Or**, if you prefer, you can install the latest version of R from CRAN:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n# update indices\nsudo apt update -qq\n# install two helper packages we need\nsudo apt install --no-install-recommends software-properties-common dirmngr\n# add the signing key (by Michael Rutter) for these repos\nwget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc | sudo tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc\n# add the R 4.0 repo from CRAN -- adjust 'focal' to 'groovy' or 'bionic' as needed\nsudo add-apt-repository \"deb https://cloud.r-project.org/bin/linux/ubuntu $(lsb_release -cs)-cran40/\"\n```\n:::\n\n\n\n\nThen run:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nsudo apt install r-base r-base-core r-recommended r-base-dev\n```\n:::\n\n\n\n\n\\[*Optional*\\] To keep up-to-date r version and packages, you can follow the instructions at [r2u](https://eddelbuettel.github.io/r2u/)\n::::\n\nAfter this installation, you don't need to open R base.\nPlease proceed to install RStudio.\n\n## RStudio\n\nRStudio Desktop is an integrated development environment (IDE) for R.\nIt includes a console, syntax-highlighting editor that supports direct code execution, as well as tools for plotting, history, debugging and workspace management.\n\nRStudio is available for free download from [Posit RStudio](https://posit.co/download/rstudio-desktop/).\n\n::: {.panel-tabset .nav-pills}\n### Windows 10/11\n\n[Download RStudio 2025.09](https://download1.rstudio.org/electron/windows/RStudio-2025.09.0-387.exe) and run the executable file.\n\n### MacOS\n\n[Download RStudio 2025.09](https://download1.rstudio.org/electron/macos/RStudio-2025.09.0-387.dmg) and install it as usual.\n\n### Ubuntu\n\n> These are instructions for Ubuntu **24**.\n> If you use other linux distribution, please follow the instructions on [Posit RStudio](https://posit.co/download/rstudio-desktop/).\n\nInstall it via the terminal:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nsudo apt install libssl-dev libclang-dev\nwget https://download1.rstudio.org/electron/jammy/amd64/rstudio-2025.09.0-387-amd64.deb\nsudo dpkg -i rstudio*\nrm -v rstudio*\n```\n:::\n\n\n\n:::\n\n## R packages\n\nYou will need to install some packages to work with the data and scripts in this course.\n\nYou can install them in RStudio by searching for them in the **Packages** tab:\n\n![](images/clipboard-3443685728.png){width=\"393\"}\n\n**or** by running the following code in the console:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"tidyverse\")\n\ninstall.packages(\"sf\")\ninstall.packages(\"mapview\")\ninstall.packages(\"osmextract\")\ninstall.packages(\"stplanr\")\n\ninstall.packages(c(\"remotes\", \"devtools\", \"usethis\")) # optional\n```\n:::\n\n\n\n\n## r5r\n\nThe simplest way to install `r5r` is by running the code below on RStudio Console.\nThis might take a few minutes if this is the first time you install these packages.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npkgs = c(\"r5r\", \"accessibility\", \"rJavaEnv\", \"h3jsr\", \"quantreg\")\n\ninstall.packages(pkgs)\n\n# dev version with latest features - optional\nutils::remove.packages('r5r')\ndevtools::install_github(\"ipeaGIT/r5r\", subdir = \"r-package\")\n```\n:::\n\n\n\n\n### Java Development Kit\n\nTo use the `{r5r}` package (version v2.0 or higher), you will need to have *Java Development Kit (JDK) 21* installed on your computer.\nThere are numerous open-source JDK implementations.\nThe easiest way to install JDK is using the new [{rJavaEnv}](https://www.ekotov.pro/rJavaEnv/) package in R.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# check version of Java currently installed (if any) \nrJavaEnv::java_check_version_rjava()\n\n## if this is the first time you use {rJavaEnv}, you might need to run this code\n## below to consent the installation of Java.\n# rJavaEnv::rje_consent(provided = TRUE)\n\n# install Java 21\nrJavaEnv::java_quick_install(version = 21)\n\n# check if Java was successfully installed\nrJavaEnv::java_check_version_rjava()\n```\n:::\n\n\n\n\n**Alternatively**, you can manually download and install JDK 21.\n\n::: {.panel-tabset .nav-pills}\n### Windows and MacOS\n\nGo to [Java Development Kit 21](https://jdk.java.net/archive/), download the latest 21 build corresponding to your operating system and run the executable file.\n\n### Ubuntu\n\nInstall it via the terminal:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nsudo apt install -y openjdk-21-jdk openjdk-21-jre\njava -version\n```\n:::\n\n\n\n:::\n\n<!-- Check if `r5r` is successfully installed and running with no errors: -->\n\n<!-- ```{r} -->\n<!-- r5r::r5r_sitrep() -->\n<!-- ``` -->\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}